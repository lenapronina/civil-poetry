(()=>{"use strict";var e={200:(e,r,t)=>{e.exports=t.p+"9742bdd8f7eee13cafe7.svg"},197:(e,r,t)=>{e.exports=t.p+"743a4416cb957ca0bef7.svg"},816:(e,r,t)=>{e.exports=t.p+"c27ecb4e34e28d6451ec.svg"},253:(e,r,t)=>{e.exports=t.p+"0c3828e4467a18cf9f3a.svg"},533:(e,r,t)=>{e.exports=t.p+"4a1c0828893e2abb37fd.png"},989:(e,r,t)=>{e.exports=t.p+"d05e4951755ba295c2b6.png"},354:(e,r,t)=>{e.exports=t.p+"7f924f5ea4ab5fa5b737.svg"},480:(e,r,t)=>{e.exports=t.p+"3f621cc87bb65c681de8.svg"},855:(e,r,t)=>{e.exports=t.p+"b7336401cff32b195292.svg"},121:(e,r,t)=>{e.exports=t.p+"1b4451314a8c3a91a8ae.svg"},186:(e,r,t)=>{e.exports=t.p+"eae7dddb60ff8a0b7f96.svg"},95:(e,r,t)=>{e.exports=t.p+"7ebe59306266247968f9.svg"},931:(e,r,t)=>{e.exports=t.p+"833e87a680e72709540d.svg"},765:(e,r,t)=>{e.exports=t.p+"ec905cd240a9a902d845.svg"},390:(e,r,t)=>{e.exports=t.p+"cfdadf96c3b5d30f6c2b.png"},585:(e,r,t)=>{e.exports=t.p+"c1b47250d24eebb2a1d9.png"}},r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}t.p="",(()=>{var e=t(200),r=t(197);const n=[{id:1,cathegory:"ЖКХ",image:e,preview:"И вот вдоль тротуара мчится",text:"И вот вдоль тротуара мчится Ручей, его вода грязна Он - знак для жителей столицы, Что где-то в эти дни весна",author:"Владимир Солоухин"},{id:2,cathegory:"Цены и налоги",image:r,preview:"И с нашей публики меж тем",text:"И с нашей публики меж тем\nБери умеренную плату,\nЗа книжку по пяти рублей -\nНалог не тягостный, ей-ей.",author:"Александр Пушкин"},{id:3,cathegory:"Дороги",image:t(816),preview:"Трагедии, представленной в провинции",text:"Трагедии, представленной в провинции,\nДо центра затруднительно дойти.\nКакие рвы и ямы на пути!\nКогда еще добьешься до правительства!",author:"Борис Слуцкий"},{id:4,cathegory:"Цены и налоги",image:r,preview:"Нас поборами царь",text:"Нас поборами царь\nИссушил, как сухарь:\nТо дороги,\nТо налоги,\nРазорили нас вконец.",author:"Кондратий Рылеев"},{id:5,cathegory:"Соседи",image:t(253),preview:"Был мой сосед",text:"Был мой сосед,\nИ, если в рай пошёл он,\nХочу я в ад,\nКоль райский сад\nТаких соседей полон.\n",author:"Роберт Бёрнс (перевод С.Я. Маршак)"},{id:6,cathegory:"ЖКХ",image:e,preview:"Весь дом одряхлел и заглох",text:"Весь дом одряхлел и заглох,\nНа стенах, на крышах, на ставнях\nУже пробивается мох.",author:"Дмитрий Кедрин"}];function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputList=Array.from(document.querySelectorAll(".popup__input")),this._buttonElement=document.querySelector(".popup__submit-button"),this._formElement=document.querySelector(".popup__form")}var r,t;return r=e,(t=[{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(r){r.addEventListener("input",(function(){e._isValid(r),e._toggleButtonState()}))}))}},{key:"_isValid",value:function(e){e.validity.valid?e.classList.remove("popup__input_invalid"):e.classList.add("popup__input_invalid")}},{key:"_showInputError",value:function(e,r){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=r,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var r=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),r.classList.remove(this._errorClass),r.textContent=""}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.classList.add("popup__submit-button_inactive"):this._buttonElement.classList.remove("popup__submit-button_inactive")}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(r){r.value="",e._isValid(r)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(r.prototype,t),e}();function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(r,t,n){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardName=r,this._openResultPopup=n,this._poems=t}var r,t;return r=e,(t=[{key:"_getSubcategoryTemplate",value:function(){return document.querySelector(".popup-subcategory-template").content.children[0].cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.addEventListener("click",(function(){e._openResultPopup(e._poems)}))}},{key:"createElement",value:function(){return this._element=this._getSubcategoryTemplate(),this._element.querySelector(".problem__name").textContent=this._cardName,this._setEventListeners(),this._element}}])&&a(r.prototype,t),e}();function s(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(r,t,n,o,b){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._categoryTemplateSelector=o,this._name=r,this._src=t,this._subcategories=n,this._createSubcategoryPopup=b}var r,t;return r=e,(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._categoryTemplateSelector).content.children[0].cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.addEventListener("click",(function(){e._createSubcategoryPopup(e._subcategories,e._name)}))}},{key:"createCategory",value:function(){return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".problem__image"),this._elementImage.src=this._src,this._elementImage.alt=this._name,this._element.id=this._id,this._element.querySelector(".problem__name").textContent=this._name,this._setEventListeners(),this._element}}])&&s(r.prototype,t),e}(),u=[{name:"Соседи",src:t(931),subcategories:[{name:"Шумят",poems:["Соседи наверху.<br>Опять чего-то сверлят.<br>Ребёнок, хоть и мал.<br>А топает, как слон!<br><br>Уже до беспредела<br>Натянуты все нервы!<br>Давно пробило полночь,<br>А шум со всех сторон!<br><br>Соседи справа что?<br>Пирушку затевают?<br>И будут хором петь<br>До самого утра!<br><br>Смотрели б в календарь!<br>Наверное не знают,<br>Что завтра не суббота,<br>А всё-таки среда!","Эй, соседи, бейте больше<br>В стены, в бубен, в барабан!<br>Аккомпанемент хороший<br>К песне, что поёт мой кран!"]},{name:"Плохие",poems:["У нас с соседом нелады,<br>Живем с соседом плохо.<br>В любое время жди беды,<br>Нежданного подвоха.<br><br>Белье развешу &mdash; как на грех,<br>Сосед золу выносит,<br>Сгребу ли я к забору снег &mdash;<br>Он по двору разбросит.</p><p>Муса Джалиль","Зимою всем семейством заболели,<br>Никто еды им не принес к постели.<br>Когда же дом случайно подожгли &ndash;<br>Тушить его соседи не пришли.<br><br>Кто попусту соседей раздражает,<br>Себя в час трудный помощи лишает.<br>И лишь дурак уверен, что беда<br>К нему не постучится никогда.<br><br>&copy; Автор. Олеся Емельянова. 2007 г.","Был мой сосед,<br>И, если в рай пошёл он,<br>Хочу я в ад,<br>Коль райский сад<br>Таких соседей полон.<br><br>перевод С.Я. Маршак<br>Роберт Бёрнс"]},{name:"Бесконечный ремонт",poems:["У соседей был ремонт две недели,<br>Две недели словно годы летели!<br>У соседей был ремонт две недели,<br>Молотки стучали, дрели гремели.<br>У соседей был ремонт две недели,<br>Две недели в доме стены гудели!<br>Бесконечный ремонт, и так каждый год..."]},{name:"Пьянчуги",poems:['Плевать - соседи выбили два зуба.<br>Скажи еще спасибо, что живой.<br>Да ладно - ну, уснул вчера в опилках.<br>Да ладно - в челюсть врезали ногой.<br>Да ладно - потащили на носилках.<br>Скажи еще спасибо, что живой.<br>Да, правда - тот, кто хочет, тот и может.<br>Да, правда - сам виновен, бог со мной!<br>Да, правда. Но одно меня тревожит -<br>Кому сказать "спасибо, что живой?"<br><br>Владимир Высоцкий',"Там за стеной, за стеночкою, за перегородочкой<br>Соседушка с соседушкою баловались водочкой.<br><br>Владимир Высоцкий","И кошусь на соседа-урода,—<br>Проклятый! Пьет пятую кружку!Саша Черный","Спать мешает до утра<br>Пьяное соседство.<br>Незабвенная пора,<br>Золотое детство!Демьян Бедный"]}]},{name:"ЖКХ",src:t(186),subcategories:[{name:"Отопление",poems:["Какая холодная осень!<br>        Надень свою шаль и капот.<br>        Смотри: из-за дремлющих сосен<br>        Как будто пожар восстает.<br>        Сияние северной ночи<br>        Я помню всегда близ тебя,<br>        И светят фосфорные очи,<br>        Да только не греют меня.<br>        <br>Афанасий Фет"]},{name:"Освещение",poems:["Кто ответит мне &mdash;<br>Что за дом такой,<br>Почему во тьме,<br>Как барак чумной?<br>Свет лампад погас,<br>Воздух вылился&hellip;<br>Али жить у вас<br>Разучилися?<br><br>Владимир Высоцкий","Двор, как ямы мрачной дно,<br>За окном глухого склепа<br>И зловеще и темно.<br><br>Николай Клюев"]},{name:"Вода",poems:["На войне, в пыли походной,<br>В летний зной и в холода,<br>Лучше нет простой, природной<br>Из колодца, из пруда,<br>Из трубы водопроводной,<br>Из копытного следа,<br>Из реки, какой угодно,<br>Из ручья, из-подо льда,<br>- Лучше нет воды холодной,<br>Лишь вода была б &mdash; вода."]},{name:"Грязно",poems:["И вот вдоль тротуара мчится<br>Ручей, его вода грязна,<br>Он - знак для жителей столицы,<br>Что где-то в эти дни весна.<br><br>Владимир Солоухин","В прихожей пахнет капустой и мазью лыжной.<br>                Ты написал много букв; еще одна будет лишней.<br>                <br>                Иосиф Бродский"]},{name:"Нужен ремонт",poems:["Наш старый дом<br>встречает новый день,<br>лукаво сдвинув крышу набекрень,<br>подмигивая солнечным стеклом,<br>не зная, что назначен он на слом<br><br>Николай Огарев","Весь дом одряхлел и заглох,<br>На стенах, на крышах, на ставнях<br>Уже пробивается мох.<br><br>Дмитрий Кедрин","Душа — такой чудесный луг,<br>              где есть зима и лето,<br>              но коммунальных нет услуг,<br>              а также туалета.<br>              <br>              Юнна Мориц"]}]},{name:"Дураки",src:t(855),subcategories:[{name:"Ну дураки и дураки",poems:[""]}]},{name:"Дороги",src:t(480),subcategories:[{name:"Снег",poems:["Заметает пурга<br>Белый путь,<br>Хочет в мягких снегах<br>Потонуть.<br>Ветер резвый уснул<br>На пути;<br>Ни проехать в лесу,<br>Ни пройти.<br><br>Сергей Есенин"]},{name:"Ямы",poems:["С утра садимся мы в телегу;<br>Мы рады голову сломать<br>И, презирая лень и негу,<br>Кричим: пошел! Еб*на мать!<br><br>Александр Пушкин","Она терниста, нелегка,<br>              Есть тупики и повороты.<br>              Она, как жизнь, порой резка:<br>              Удар, паденье, ямы, взлёты…<br>              <br>              Мы выбираем для себя<br>              Дорогу иногда кривую,<br>              Она направит нас, любя.<br>              Свернёт на колею прямую.<br>              <br>              Лаврова Татьяна"]},{name:"Пробки",poems:["Возле Каменного моста,<br>Где течет Москва-река,<br>Возле Каменного моста<br>Стала улица узка.<br>Там на улице заторы,<br>Там волнуются шоферы.<br>&mdash; Ох,&mdash; вздыхает постовой,<br>Дом мешает угловой!<br><br>Агния Барто"]},{name:"Общественный транспорт",poems:["Когда состаришься - ходи<br>По улице пешком.<br>Не лезь в автобус, все равно<br>Стоять придется там.<br>И нынче мало дураков,<br>Чтоб место уступать,<br>А к тем далеким временам<br>Не станет их совсем.<br><br>Григорий Остер"]}]},{name:"Бедствия",src:t(354),subcategories:[{name:"Мне плохо",poems:["Друг мой, друг мой,<br>Я очень и очень болен.<br>Сам не знаю, откуда взялась эта боль.<br>То ли ветер свистит<br>Над пустым и безлюдным полем,<br>То ль, как рощу в сентябрь,<br>Осыпает мозги алкоголь.<br><br>Сергей Есенин"]},{name:"Другому плохо",poems:["И если умирает человек,<br>с ним умирает первый его снег,<br>и первый поцелуй, и первый бой&hellip;<br>Все это забирает он с собой.<br><br>Евгений Евтушенко","Если друг твой самый лучший<br>                Поскользнулся и упал,<br>                Покажи на друга пальцем<br>                И хватайся за живот.<br>                Пусть он видит, лежа в луже,<br>                Ты ничуть не огорчен –<br>                Настоящий друг не любит<br>                Огорчать своих друзей.<br>                <br>                Григорий Остер"]},{name:"Пожар",poems:["Огонь же &mdash; рвется от земли,<br>от Зла, Добра и прочей швали,<br>почти всегда по вертикали,<br>как это мы узнать могли.<br><br>Иосиф Бродский","Что за дым над головой? <br />Что за гром по мостовой? <br />Дом пылает за углом, <br />Сто зевак стоят кругом. <br />Ставит лестницы команда, <br />От огня спасает дом. <br />Весь чердак уже в огне, <br />Бьются голуби в окне.<br><br>Сергей Михалков","И если видел он пожар,<br>                Плывущий дым угарный,<br>                Он поднимал сигнальный шар<br>                Над каланчой пожарной.<br>                И два шара, и три шара<br>                Взвивались вверх, бывало.<br>                И вот с пожарного двора<br>                Команда выезжала.<br>                <br>                Самуил Маршак","Эй, пожарная бригада, <br>                Поторапливаться надо! <br>                Запрягайте десять пар.<br>                Едем, едем на пожар.<br>                Поскорей, без проволочки,<br>                Наливайте воду в бочки. <br>                Тили-тили-тили-бом! <br>                Загорелся кошкин дом!<br>                Стой, свинья! Постой, коза!<br>                Что таращите глаза? <br>                Воду ведрами носите.<br>                <br>Самуил Маршак"]},{name:"Потоп",poems:["Ну и дождь! Потоп кругом!<br>Барабанит в небе гром.<br>Спрятаться куда бы?<br>До чего же ливень зол!<br><br>Фридрих Шиллер","Сколько сору прибило к березам<br>Разыгравшейся полой водой!<br>Трактора, волокуши с навозом,<br>Жеребята с проезжим обозом,<br>Гуси, лошади, шар золотой,<br>Яркий шар восходящего солнца,<br>Куры, свиньи, коровы, грачи,<br>Горький пьяница с новым червонцем<br>У прилавка<br>и куст под оконцем -<br>Все купается, тонет, смеется,<br>Пробираясь в воде и в грязи!<br><br>Николай Рубцов","Ледоходов больше нет,<br>Но извечны половодья!<br><br>Леонид Мартынов","Вокруг вода, одна вода —<br>                Когда, откуда и куда.<br>                Пришла негаданно беда —<br>                В пучине сгинуть навсегда.<br>                <br>                Вода шальною бьет волной,<br>                Волна сюда идет войной.<br>                Не видно шлюпки ни одной.<br>                В потоп счастливее был Ной.<br>                <br>                И бесконечен водный путь.<br>                До берега не дотянуть.<br>                Вокруг одна сырая жуть —<br>                И так не хочется тонуть.<br>                <br>                Панченко С.","Дождь — компаньон гробовщика —<br>                Льет не переставая.<br>                Вот-вот разбухшая река<br>                Рванется, все сметая.<br>                <br>                И, как назло, закрыты все<br>                Прибрежные кафешки…<br>                Ты пьян, ты — в черной полосе,<br>                Скорей вставай, не мешкай!<br>                <br>                Беги к домам и барабань<br>                В ворота, в окна, в двери —<br>                Предупреди, что дело — дрянь,<br>                Не избежать потери…<br>                Взбесившийся водоворот<br>                Накроет город сонный —<br>                Никто, поверьте, не уйдет<br>                Из катастрофы зоны!"]},{name:"Ураган",poems:["От недуга, от могилы,<br>В бурю, в грозный ураган,<br>Головы твоей, мой милый,<br>Не спасет мой талисман.<br><br>Александр Пушкин"]},{name:"Пропал без вести",poems:["Потерявшийся ребенок<br>                Должен помнить, что его<br>                Отведут домой, как только<br>                Назовет он адрес свой.<br>                Надо действовать умнее,<br>                Говорите: «Я живу<br>                Возле пальмы с обезьяной<br>                На Гавайских островах».<br>                Потерявшийся ребенок,<br>                Если он не дурачок,<br>                Не упустит верный случай<br>                В дальних странах побывать!<br>                <br>                Григорий Остер"]}]},{name:"Экология",src:t(121),subcategories:[{name:"Пропали птицы",poems:["Ласточки пропали,<br>А вчера зарёй<br>Всё грачи летали<br>Да, как сеть, мелькали<br>Вон над той горой.<br><br>Афанасий Фет"]},{name:"Загрязнения",poems:["Мне плевать на выбросы и вбросы<br>                Несусветно пахнущих АХОВ,<br>                К Д.И. Менделееву вопросы <br>                Все давно закрыты на засов.<br>                И пускай в меня вдувает с ветром<br>                Химия соляной кислотой,<br>                Укрываться – чепуха и ретро,<br>                Стиль не современный и не мой."]},{name:"Вырубают леса",poems:[""]}]},{name:"Цены и налоги",src:t(95),subcategories:[{name:"Рост цен",poems:["И с нашей публики меж тем<br>Бери умеренную плату,<br>За книжку по пяти рублей -<br>Налог не тягостный, ей-ей.<br><br>Александр Пушкин","Когда народу не хватало хлеба,<br>А юнкер цены был удвоить рад,<br>Я правдолюбцам объяснял без гнева:<br>Хороший хлеб, хотя дороговат.<br><br>Бертольт Брехт"]},{name:"Налоги",poems:["Нас поборами царь<br>Иссушил, как сухарь:<br>То дороги,<br>То налоги,<br>Разорили нас вконец.<br><br>Кондратий Рылеев"]}]},{name:"Гос. структуры",src:t(765),subcategories:[{name:"Медицина",poems:["Минздрав нас вечно убеждает,<br>                Что надо быть всегда в строю,<br>                Пожарный лишь предупреждает:<br>                Огонь опасен, мать твою!"]},{name:"Образование",poems:["Черный человек<br>                Водит пальцем по мерзкой книге<br>                И, гнусавя надо мной,<br>                Как над усопшим монах,<br>                Читает мне жизнь<br>                Какого-то прохвоста и забулдыги,<br>                Нагоняя на душу тоску и страх.<br>                Черный человек<br>                Черный, черный…<br>                <br>                «Слушай, слушай,-<br>                Бормочет он мне,-<br>                В книге много прекраснейших<br>                Мыслей и планов.<br>                Этот человек<br>                Проживал в стране<br>                Самых отвратительных<br>                Громил и шарлатанов.<br>                <br>Сергей Есенин"]},{name:"Бюрократия",poems:["Я волком бы<br>выгрыз<br>бюрократизм.<br>К мандатам<br>почтения нету.<br>К любым<br>чертям с матерями<br>катись<br>любая бумажка.<br><br>Владимир Маяковский"]},{name:"Взятки",poems:['Размышлял - за что ж России<br>                Выпала такая масть?<br>                А потом вдруг осенило -<br>                "Власть" рифмуется и "красть".',"«У каждого – своя дорога!<br>                Она ему дана от Бога!»<br>                Инспектор думал, отложив радар,<br>                Деля с напарником сегодняшний навар.<br>                <br>                Олег Петров<br>                ","Поздравляю с Днём ГАИ<br>                Каждого водителя:<br>                Профи, дальнобойщика и автолюбителя!<br>                Вам желаю от души:<br>                Редких встреч с нашим ГАИ!"]}]}],p=t(390),l=t(533),m=t(585),_=t(989);function h(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(r){var t=r.baseUrl,n=r.headers;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=t,this._headers=n}var r,t;return r=e,(t=[{key:"_checkResStatus",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getNews",value:function(){var e=this;return fetch("".concat(this._baseURL,"/news"),{headers:this._headers}).then((function(r){return e._checkResStatus(r)}))}},{key:"getClaims",value:function(){var e=this;return fetch("".concat(this._baseURL,"/claims"),{headers:this._headers}).then((function(r){return e._checkResStatus(r)}))}},{key:"getAllInitialData",value:function(){return Promise.all([this.getNews(),this.getClaims()])}},{key:"postNewClaim",value:function(e){var r=this;return fetch("".concat(this._baseURL,"/claims"),{method:"POST",headers:this._headers,body:JSON.stringify({applicant:e.name,location:e.location,poems:e.poems,author:e.author,type:e.type})}).then((function(e){return r._checkResStatus(e)}))}},{key:"addLike",value:function(e){var r=this;return fetch("".concat(this._baseURL,"/news/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return r._checkResStatus(e)}))}},{key:"deleteLike",value:function(e){var r=this;return fetch("".concat(this._baseURL,"/news/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return r._checkResStatus(e)}))}}])&&h(r.prototype,t),e}();function d(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function e(r,t){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(r),this._form=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__submit-button"),this._submitForm=t,this._poem=this._form.querySelector(".popup__text")}var r,t;return r=e,(t=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList=this._form.querySelectorAll(".popup__input"),this._inputList.forEach((function(r){return e._formValues[r.name]=r.value})),this._formValues.poems=this._poem.textContent,this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(r){r.preventDefault(),e._submitForm(e._getInputValues())}))}}])&&d(r.prototype,t),e}(),y=new f({baseUrl:"https://civil-poetry-app.herokuapp.com",headers:{"Content-Type":"application/json"}}),g=document.querySelector(".popup_submit-success"),S=document.querySelectorAll(".popup"),k=document.querySelector(".popup__link");new v(".popup_result",(function(e){y.postNewClaim(e).then((function(e){g.classList.add("popup_opened"),k.addEventListener("click",(function(){S.forEach((function(e){M(e)}))}))})).catch((function(e){return console.log(e)}))})).setEventListeners();var E=document.querySelector(".claim-list"),L=document.querySelector(".popular__more"),q=document.querySelector(".popup_result"),x=document.querySelector(".problems-list__wrapper"),w=document.querySelector(".problems-list__wrapper_popup"),C=q.querySelector(".popup__poem-button_next"),T=q.querySelector(".popup__poem-button_prev"),R=document.querySelector(".popup_subcategories"),V=R.querySelector(".popup__heading"),I=document.querySelector(".popup__wrapper_subcategories"),P=document.querySelector(".popup__wrapper_result"),A=Array.from(document.querySelectorAll(".card")),N=document.querySelector(".popup_news"),U=N.querySelector(".button");function j(e,r){e.forEach((function(e){var t=document.querySelector(".claim-template").content.cloneNode(!0),n=t.querySelector(".claim__id"),o=t.querySelector(".claim__cathegory"),b=t.querySelector(".claim__verse"),a=t.querySelector(".claim"),i=t.querySelector(".claim__author");n.src=e.image,o.textContent=e.cathegory,b.textContent=e.preview;var s=!1;a.addEventListener("click",(function(){!1===s?(b.textContent=e.text,s=!0,i.textContent=e.author):(b.textContent=e.preview,s=!1,i.textContent="")})),r.append(t)}))}j(n.slice(0,3),E);var O=document.querySelector(".popular__button");O.addEventListener("click",(function(){j(n.slice(3,6),E),L.textContent="Чуть позже добавим еще новости!",O.style.display="none"}));var D=document.querySelector(".hello__arrow-bottom"),B=document.querySelector(".problems-list");document.querySelector(".ticker").querySelector(".ticker__line"),document.querySelectorAll(".ticker").forEach((function(e){!function(e,r,t){var n=e,o=n.querySelector(".ticker__line"),b=o.offsetWidth,a=o.cloneNode(!0);n.appendChild(a);var i,s,c=performance.now();requestAnimationFrame((function e(r){(i=(r-c)/1e4)>1&&(i%=1,c=r),s=b*i,o.style.transform="translate(-".concat(s,"px, 0 )"),a.style.transform="translate(-".concat(s,"px, 0 )"),requestAnimationFrame(e)}))}(e)})),D.addEventListener("click",(function(){B.scrollIntoView()}));var F=R.querySelectorAll(".problem_popup"),H=function(){F.forEach((function(e){e.remove()}))},M=function(e){e.classList.remove("popup_opened")},J=function(e){e.classList.add("popup_opened")};I.addEventListener("click",(function(){H(),M(R)})),P.addEventListener("click",(function(){M(q)})),A.forEach((function(e){e.addEventListener("click",(function(){J(N)}))})),U.addEventListener("click",(function(){M(N)}));var W=new b;W.enableValidation();var z=function(e,r){e.forEach((function(e){var r=new i(e.name,e.poems,Y);w.append(r.createElement())})),V.textContent=r,J(R)},G=q.querySelector(".popup__go-to-main-button"),K=q.querySelector(".popup__text"),Q=C.querySelector(".popup__poem-button-icon"),X=T.querySelector(".popup__poem-button-icon"),Y=function(e){W.resetValidation();var r=0,t=function(t){t.preventDefault(),r++,o(r,e),b(r,e),K.innerHTML=e[r]},n=function(t){t.preventDefault(),r--,o(r,e),b(r,e),K.innerHTML=e[r]},o=function(e,r){e===r.length-1?(Q.src=p,C.removeEventListener("click",t)):(Q.src=m,C.addEventListener("click",t))},b=function(e,r){0===e?(X.src=l,T.removeEventListener("click",n)):(X.src=_,T.addEventListener("click",n))};q.querySelector(".popup__text").innerHTML=e[r],C.addEventListener("click",t),T.addEventListener("click",n),G.addEventListener("click",(function(){S.forEach((function(e){M(e)})),H()})),P.addEventListener("click",(function(){q.classList.remove("popup_opened"),C.removeEventListener("click",t),T.removeEventListener("click",n)})),o(r,e),b(r,e),J(q)};u.forEach((function(e){var r=new c(e.name,e.src,e.subcategories,".problem-template",z);x.append(r.createCategory())}))})()})();